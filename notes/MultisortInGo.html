<!doctype html>
<html lang="en" className="scroll-smooth" class="dark">
	<head>
		<meta charset="utf-8" />
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
		<meta content="width=device-width, initial-scale=1" name="viewport" />

		<meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff" />
		<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/Footer.tflIp9SK.css" rel="stylesheet">
		<link href="../_app/immutable/assets/9.7UgFVtuZ.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.WbSJy2CG.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/entry.CfrVof0O.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/scheduler.CO5KZ6rK.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.D3UXxyEl.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.73SDJlB_.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.C40aKBAX.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/2.BQJuzwVU.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Footer.DrSYLyAD.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/each.D6YF6ztN.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/config.CElJ84Ba.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/SocialIcons.DFOFZu5m.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/arrowleft.mCawO3_V.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/9.DtdVd4wE.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Head.BCIx_dDN.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.BDR8H195.js"><title>Multi sort in Go</title><!-- HEAD_svelte-yipvbd_START --><link rel="icon" type="image/png" href="/favicon.png"><meta name="description" content="How does sorting on multiple fields work in Go?"><meta name="author" content="Parth Shah"><meta property="og:title" content="Multi sort in Go"><meta property="og:description" content="How does sorting on multiple fields work in Go?"><meta property="og:url" content="http://sveltekit-prerender/notes/MultisortInGo"><meta property="og:type" content="website"><meta property="og:image" content="/favicon.png"><meta property="og:image:alt" content="Multi sort in Go"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><!-- HEAD_svelte-yipvbd_END -->
	</head>
	<!-- Body class how it looks by default out of the box for svelte -->
	<!-- <body data-sveltekit-preload-data="hover"> -->
		<body class="bg-gradient-to-b from-slate-200 to-slate-400 bg-white text-black antialiased dark:bg-gradient-to-b dark:from-neutral-900 dark:to-neutral-800 dark:text-white" data-sveltekit-prefetch>
		<div style="display: contents">  <div class="mx-auto my-auto px-6 lg:max-w-3xl">  <div class="flex flex-nowrap min-h-dvh flex-col justify-between">  <header class="flex items-center justify-between py-5"> <div class="relative inline-flex group" data-svelte-h="svelte-1vpvahn">  <div class="absolute transition-all duration-1000 opacity-0 -inset-px bg-gradient-to-r from-lime-600 via-emrald-600 to-lime-600 blur-md group-hover:opacity-100 group-hover:-inset-1 group-hover:duration-200 animate-tilt"></div>  <div><a href="/" aria-label="HomePage" class="relative inline-flex items-center justify-center transition-all duration-600 bg-slate-900 rounded-xl focus:ring-slate-900" role="button"><img src="/favicon.png" alt="Logo" class="h-8 w-auto"></a></div></div>   <div class="hidden sm:block"><a href="/about" class="p-1 font-medium sm:p-2 text-neutral-400">About </a><a href="/notes" class="p-1 font-medium sm:p-2 text-neutral-400">Notes </a></div></header>  <main class="mb-auto"><div> <div class="mx-auto my-auto px-4 pt-8 pb-10 divide-y divide-neutral-700 space-y-5"><h1 class="text-5xl">Multi sort in Go</h1> <article><div class="post-content pt-6 svelte-vrfaf5"><!-- HTML_TAG_START --><p data-svelte-h="svelte-10gy28v">While recently working on an piece of Go code I found myself wondering: how can you sort by multiple fields? Imagine you have a struct slice and you want to sort it based on multiple fields of the struct.</p> <p data-svelte-h="svelte-mam56q">Here’s an example of a struct representing a simple bank account:</p> <pre class="language-go"><!-- HTML_TAG_START --><code class="language-go"><span class="token keyword">type</span> Account <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	AccountID    <span class="token builtin">int</span>
	Balance      <span class="token builtin">int</span>
	LastUpdated  <span class="token builtin">int</span>
	Created      <span class="token builtin">int</span>
	Transactions <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1a1fjft">And a slice of the <code>Account</code> struct:</p> <pre class="language-go"><!-- HTML_TAG_START --><code class="language-go"><span class="token keyword">var</span> accounts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Account<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-7nlv1w">We want to sort the <code>accounts</code> slice by the Balance field and if Balance is the same then by AccountID.</p> <p data-svelte-h="svelte-1ugomnq">Lets take a simple case first: sort all the accounts by their <code>Balance</code> in decending order:</p> <pre class="language-go"><!-- HTML_TAG_START --><code class="language-go">sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>accounts<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> accounts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Balance <span class="token operator">></span> accounts<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Balance
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code><!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-xvggn8">Here the helper function returns true if the account at index <code>i</code> in the slice has balance greater than account at index <code>j</code>.</p> <p data-svelte-h="svelte-6kr7ee">Now coming to the actual problem:</p> <pre class="language-go"><!-- HTML_TAG_START --><code class="language-go">sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>accounts<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> accounts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Balance <span class="token operator">==</span> accounts<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Balance <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> accounts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>AccountID <span class="token operator">></span> accounts<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>AccountID
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> accounts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Balance <span class="token operator">></span> accounts<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Balance
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code><!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1rtn04o">Thats it! We start by setting up the helper function in a similar fashion but add an if condition: If the balances are same then sort (descending) by <code>AccountId</code>. But if the balances are not the same then sort it as per previously - by <code>Balance</code>.</p><!-- HTML_TAG_END --></div></article></div>   </div></main> <footer><div class="mt-5 flex flex-col items-center pt-6 gap-2"><div class="mb-3 flex space-x-2"><a class="flex gap-x-10 text-gray-400 transition hover:text-limeag" href="https://github.com/parthrs">  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"></path></svg> <span></span></a> <a class="flex gap-x-10 text-gray-400 transition hover:text-limeag" href="https://linkedin.com/in/parthrs">  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"></path></svg> <span></span></a> <a class="flex gap-x-10 text-gray-400 transition hover:text-limeag" href="mailto:tuna-whistle-0c@icloud.com">  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-at" viewBox="0 0 16 16"><path d="M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914"></path></svg> <span></span></a></div> <div class="hidden sm:block space-x-2 text-sm text-neutral-500 dark:text-neutral-400" data-svelte-h="svelte-1p5cfkh"><p>Made by me using <a class="text-neutral-400 webpagelevellink" href="https://kit.svelte.dev/">SvelteKit</a> and <a class="text-neutral-400 webpagelevellink" href="https://tailwindcss.com/">tailwindcss</a> <b>|</b>  <a class="text-neutral-400 webpagelevellink" href="/madewith">Made with</a> </p></div> <div class="hidden sm:block mb-2 text-neutral-500"><p>The views expressed here are my own and are not affiliated with my current or former employers</p></div></div></footer></div></div> 
			
			<script>
				{
					__sveltekit_h1urct = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,{"type":"data","data":{post:{title:"Multi sort in Go",date:"2023-12-13",draft:false,summary:"How does sorting on multiple fields work in Go?",tags:["go","multisort"],content:"\u003Cp data-svelte-h=\"svelte-10gy28v\">While recently working on an piece of Go code I found myself wondering: how can you sort by multiple fields? Imagine you have a struct slice and you want to sort it based on multiple fields of the struct.\u003C/p> \u003Cp data-svelte-h=\"svelte-mam56q\">Here’s an example of a struct representing a simple bank account:\u003C/p> \u003Cpre class=\"language-go\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-go\">\u003Cspan class=\"token keyword\">type\u003C/span> Account \u003Cspan class=\"token keyword\">struct\u003C/span> \u003Cspan class=\"token punctuation\">&#123;\u003C/span>\n\tAccountID    \u003Cspan class=\"token builtin\">int\u003C/span>\n\tBalance      \u003Cspan class=\"token builtin\">int\u003C/span>\n\tLastUpdated  \u003Cspan class=\"token builtin\">int\u003C/span>\n\tCreated      \u003Cspan class=\"token builtin\">int\u003C/span>\n\tTransactions \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token builtin\">int\u003C/span>\n\u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre> \u003Cp data-svelte-h=\"svelte-1a1fjft\">And a slice of the \u003Ccode>Account\u003C/code> struct:\u003C/p> \u003Cpre class=\"language-go\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-go\">\u003Cspan class=\"token keyword\">var\u003C/span> accounts \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>Account\u003Cspan class=\"token punctuation\">&#123;\u003C/span>\u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre> \u003Cp data-svelte-h=\"svelte-7nlv1w\">We want to sort the \u003Ccode>accounts\u003C/code> slice by the Balance field and if Balance is the same then by AccountID.\u003C/p> \u003Cp data-svelte-h=\"svelte-1ugomnq\">Lets take a simple case first: sort all the accounts by their \u003Ccode>Balance\u003C/code> in decending order:\u003C/p> \u003Cpre class=\"language-go\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-go\">sort\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Slice\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>accounts\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">func\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>i\u003Cspan class=\"token punctuation\">,\u003C/span>j \u003Cspan class=\"token builtin\">int\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token builtin\">bool\u003C/span> \u003Cspan class=\"token punctuation\">&#123;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> accounts\u003Cspan class=\"token punctuation\">[\u003C/span>i\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Balance \u003Cspan class=\"token operator\">>\u003C/span> accounts\u003Cspan class=\"token punctuation\">[\u003C/span>j\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Balance\n\u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre> \u003Cp data-svelte-h=\"svelte-xvggn8\">Here the helper function returns true if the account at index \u003Ccode>i\u003C/code> in the slice has balance greater than account at index \u003Ccode>j\u003C/code>.\u003C/p> \u003Cp data-svelte-h=\"svelte-6kr7ee\">Now coming to the actual problem:\u003C/p> \u003Cpre class=\"language-go\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-go\">sort\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Slice\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>accounts\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">func\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>i\u003Cspan class=\"token punctuation\">,\u003C/span>j \u003Cspan class=\"token builtin\">int\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token builtin\">bool\u003C/span> \u003Cspan class=\"token punctuation\">&#123;\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span> accounts\u003Cspan class=\"token punctuation\">[\u003C/span>i\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Balance \u003Cspan class=\"token operator\">==\u003C/span> accounts\u003Cspan class=\"token punctuation\">[\u003C/span>j\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Balance \u003Cspan class=\"token punctuation\">&#123;\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> accounts\u003Cspan class=\"token punctuation\">[\u003C/span>i\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>AccountID \u003Cspan class=\"token operator\">>\u003C/span> accounts\u003Cspan class=\"token punctuation\">[\u003C/span>j\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>AccountID\n  \u003Cspan class=\"token punctuation\">&#125;\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token punctuation\">&#123;\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> accounts\u003Cspan class=\"token punctuation\">[\u003C/span>i\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Balance \u003Cspan class=\"token operator\">>\u003C/span> accounts\u003Cspan class=\"token punctuation\">[\u003C/span>j\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Balance\n  \u003Cspan class=\"token punctuation\">&#125;\u003C/span>\n\u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre> \u003Cp data-svelte-h=\"svelte-1rtn04o\">Thats it! We start by setting up the helper function in a similar fashion but add an if condition: If the balances are same then sort (descending) by \u003Ccode>AccountId\u003C/code>. But if the balances are not the same then sort it as per previously - by \u003Ccode>Balance\u003C/code>.\u003C/p>",slug:"MultisortInGo"}},"uses":{"params":["slug"]}}];

					Promise.all([
						import("../_app/immutable/entry/start.WbSJy2CG.js"),
						import("../_app/immutable/entry/app.D3UXxyEl.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 9],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
